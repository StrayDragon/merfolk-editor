# Merfolk Editor - Flowchart å®Œæ•´å…¼å®¹ & äº¤äº’ä¼˜åŒ–

> èšç„¦ Flowchart å›¾çš„å®Œæ•´ Mermaid å…¼å®¹æ€§å’Œç¼–è¾‘å™¨äº¤äº’ä½“éªŒä¼˜åŒ–
>
> å‚è€ƒæ–‡æ¡£: [Mermaid Flowchart è¯­æ³•](https://mermaid.js.org/syntax/flowchart.html)

## ğŸ¯ é¡¹ç›®ç›®æ ‡

1. **Flowchart å®Œæ•´å…¼å®¹** - æ”¯æŒ Mermaid v11.12.2 çš„æ‰€æœ‰ Flowchart è¯­æ³•
2. **äº¤äº’ä½“éªŒä¼˜åŒ–** - æä¾›æµç•…ã€ç›´è§‚çš„å¯è§†åŒ–ç¼–è¾‘ä½“éªŒ
3. **æš‚ä¸å®ç°** - å…¶ä»–å›¾ç±»å‹ (Sequence, Class, ER, Gantt ç­‰)

---

## ğŸ“Š è¯­æ³•å…¼å®¹æ€§å¯¹ç…§è¡¨

åŸºäº [å®˜æ–¹æ–‡æ¡£](https://mermaid.js.org/syntax/flowchart.html) æ ¸å¯¹:

### âœ… å·²æ”¯æŒ

| è¯­æ³• | ç¤ºä¾‹ | çŠ¶æ€ |
|------|------|------|
| åŸºç¡€å£°æ˜ | `flowchart TB` / `graph LR` | âœ… |
| æ–¹å‘ | TB, TD, BT, LR, RL | âœ… |
| çŸ©å½¢èŠ‚ç‚¹ | `A[text]` | âœ… |
| åœ†è§’çŸ©å½¢ | `A(text)` | âœ… |
| ä½“è‚²åœºå½¢ | `A([text])` | âœ… |
| å­ç¨‹åºæ¡† | `A[[text]]` | âœ… |
| åœ†æŸ±ä½“ | `A[(text)]` | âœ… |
| åœ†å½¢ | `A((text))` | âœ… |
| åŒåœ†å½¢ | `A(((text)))` | âœ… |
| è±å½¢ | `A{text}` | âœ… |
| å…­è¾¹å½¢ | `A{{text}}` | âœ… |
| å¹³è¡Œå››è¾¹å½¢ | `A[/text/]` `A[\text\]` | âœ… |
| æ¢¯å½¢ | `A[/text\]` `A[\text/]` | âœ… |
| æ——å¸œå½¢ | `A>text]` | âœ… |
| ç®­å¤´è¾¹ | `A --> B` | âœ… |
| æ— ç®­å¤´è¾¹ | `A --- B` | âœ… |
| å¸¦æ–‡æœ¬è¾¹ | `A --\|text\|-> B` / `A -- text --> B` | âœ… |
| ç²—çº¿è¾¹ | `A ==> B` | âœ… |
| è™šçº¿è¾¹ | `A -.-> B` | âœ… |
| åŒå‘ç®­å¤´ | `A <--> B` | âœ… |
| åœ†å½¢ç®­å¤´ | `A --o B` / `A o--o B` | âœ… |
| å‰å½¢ç®­å¤´ | `A --x B` / `A x--x B` | âœ… |
| é“¾å¼è¿æ¥ | `A --> B --> C` | âœ… |
| å­å›¾ | `subgraph ... end` | âœ… |
| classDef | `classDef className ...` | âœ… |
| class | `class nodeId className` | âœ… |
| style | `style nodeId fill:#f9f` | âœ… |
| click | `click nodeId "url"` | âœ… |
| æ³¨é‡Š | `%% comment` | âœ… |
| Unicode æ–‡æœ¬ | `A["â¤ Unicode"]` | âœ… |
| æ–°å½¢çŠ¶è¯­æ³• | `A@{ shape: doc }` | âœ… |
| ä¸å¯è§è¾¹ | `A ~~~ B` | âœ… |
| å¤šèŠ‚ç‚¹é“¾æ¥ | `A & B --> C & D` | âœ… |
| è¾¹é•¿åº¦æ§åˆ¶ | `A ----> B` | âœ… |
| è¾¹ ID | `A e1@--> B` | âœ… |
| è¾¹åŠ¨ç”» | `e1@{ animate: true }` | âœ… |
| å­å›¾æ–¹å‘ | `direction TB` (in subgraph) | âœ… |
| linkStyle | `linkStyle 0 stroke:#f00` | âœ… |

### âŒ å¾…å®ç° (å»¶å)

| è¯­æ³• | ç¤ºä¾‹ | å¤‡æ³¨ |
|------|------|-----|
| Markdown æ–‡æœ¬ | `A["\`**bold**\`"]` | éœ€è¦ Markdown è§£æå™¨ |
| FontAwesome | `fa:fa-twitter` | éœ€è¦å›¾æ ‡åº“ |
| Look/Layout | `look: handDrawn` / `layout: elk` | éœ€è¦é¢å¤–æ¸²æŸ“å¼•æ“ |

---

## ğŸ¯ åŠŸèƒ½éœ€æ±‚åˆ—è¡¨

### è¯­æ³•å…¼å®¹ (Flowchart)

| FR | åç§° | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|----|------|--------|------|
| [FR-01](./FR-01-æ–°å½¢çŠ¶è¯­æ³•è§£æ.md) | æ–°å½¢çŠ¶è¯­æ³• & æ–‡æœ¬å¢å¼º | P0 | âœ… å®Œæˆ |
| [FR-02](./FR-02-é«˜çº§è¾¹è¯­æ³•.md) | é«˜çº§è¾¹è¯­æ³• | P0 | âœ… å®Œæˆ |
| [FR-03](./FR-03-æ–°å½¢çŠ¶æ¸²æŸ“.md) | æ–°å½¢çŠ¶æ¸²æŸ“ | P1 | âœ… å®Œæˆ |
| [FR-04](./FR-04-å­å›¾å¢å¼º.md) | å­å›¾å¢å¼º | P2 | âœ… å®Œæˆ |

### äº¤äº’ä¼˜åŒ–

| FR | åç§° | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|----|------|--------|------|
| [FR-05](./FR-05-æ’¤é”€é‡åš.md) | æ’¤é”€/é‡åšç³»ç»Ÿ | P0 | âœ… å®Œæˆ |
| [FR-06](./FR-06-èŠ‚ç‚¹äº¤äº’ä¼˜åŒ–.md) | èŠ‚ç‚¹äº¤äº’ä¼˜åŒ– | P0 | âœ… å®Œæˆ |
| [FR-07](./FR-07-è¾¹äº¤äº’ä¼˜åŒ–.md) | è¾¹äº¤äº’ä¼˜åŒ– | P0 | âœ… å®Œæˆ |
| [FR-08](./FR-08-å¿«æ·é”®ç³»ç»Ÿ.md) | å¿«æ·é”®ç³»ç»Ÿ | P1 | âœ… å®Œæˆ |
| [FR-09](./FR-09-å³é”®èœå•å¢å¼º.md) | å³é”®èœå•å¢å¼º | P1 | âœ… å®Œæˆ |
| [FR-10](./FR-10-å½¢çŠ¶é€‰æ‹©å™¨.md) | å½¢çŠ¶é€‰æ‹©å™¨ä¼˜åŒ– | P1 | âœ… å®Œæˆ |

### æµ‹è¯•

| æ–‡æ¡£ | æè¿° |
|------|------|
| [æµ‹è¯•ç”¨ä¾‹è§„åˆ’](./FR-99-æµ‹è¯•ç”¨ä¾‹è§„åˆ’.md) | å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹è¦†ç›–è®¡åˆ’ |

---

## ğŸ“… å®æ–½è·¯çº¿å›¾ & Commit è®¡åˆ’

```
Phase 1: æ ¸å¿ƒäº¤äº’
â”œâ”€â”€ 1.1 FR-05: æ’¤é”€/é‡åšç³»ç»Ÿ
â”‚   â””â”€â”€ commit: "feat(core): implement undo/redo command system"
â”œâ”€â”€ 1.2 FR-06: èŠ‚ç‚¹äº¤äº’ä¼˜åŒ–
â”‚   â””â”€â”€ commit: "feat(canvas): enhance node selection, drag and inline editing"
â””â”€â”€ 1.3 FR-07: è¾¹äº¤äº’ä¼˜åŒ–
    â””â”€â”€ commit: "feat(canvas): add port-based edge creation and editing"

Phase 2: è¯­æ³•å…¼å®¹
â”œâ”€â”€ 2.1 FR-02: é«˜çº§è¾¹è¯­æ³• (å«ä¿®å¤5ä¸ªå¤±è´¥æµ‹è¯•)
â”‚   â””â”€â”€ commit: "fix(parser): support spaced edge text and advanced edge syntax"
â””â”€â”€ 2.2 FR-01: æ–°å½¢çŠ¶è¯­æ³•è§£æ
    â””â”€â”€ commit: "feat(parser): add @{} shape syntax and 30+ new shape types"

Phase 3: äº¤äº’å¢å¼º
â”œâ”€â”€ 3.1 FR-08: å¿«æ·é”®ç³»ç»Ÿ
â”‚   â””â”€â”€ commit: "feat(ui): implement unified hotkey management system"
â””â”€â”€ 3.2 FR-09: å³é”®èœå•å¢å¼º
    â””â”€â”€ commit: "feat(ui): add context-sensitive right-click menus"

Phase 4: æ¸²æŸ“å®Œå–„
â”œâ”€â”€ 4.1 FR-03: æ–°å½¢çŠ¶æ¸²æŸ“
â”‚   â””â”€â”€ commit: "feat(canvas): implement SVG rendering for 30+ new shapes"
â””â”€â”€ 4.2 FR-10: å½¢çŠ¶é€‰æ‹©å™¨
    â””â”€â”€ commit: "feat(ui): add visual shape panel with drag-to-create"

Phase 5: å­å›¾å¢å¼º
â””â”€â”€ 5.1 FR-04: å­å›¾å¢å¼º
    â””â”€â”€ commit: "feat(core): support subgraph direction, nesting and inter-subgraph edges"
```

### é˜¶æ®µå®Œæˆæ£€æŸ¥æ¸…å•

| é˜¶æ®µ | FR | Commit Message | çŠ¶æ€ |
|------|-----|----------------|------|
| 1.1 | FR-05 | `feat(core): implement undo/redo command system` | âœ… |
| 1.2 | FR-06 | `feat(canvas): enhance node selection, drag and inline editing` | âœ… |
| 1.3 | FR-07 | `feat(canvas): add port-based edge creation and editing` | âœ… |
| 2.1 | FR-02 | `fix(parser): support spaced edge text and advanced edge syntax` | âœ… |
| 2.2 | FR-01 | `feat(parser): add @{} shape syntax and 30+ new shape types` | âœ… |
| 3.1 | FR-08 | `feat(ui): implement unified hotkey management system` | âœ… |
| 3.2 | FR-09 | `feat(ui): add context-sensitive right-click menus` | âœ… |
| 4.1 | FR-03 | `feat(canvas): implement SVG rendering for 30+ new shapes` | âœ… |
| 4.2 | FR-10 | `feat(ui): add visual shape panel with drag-to-create` | âœ… |
| 5.1 | FR-04 | `feat(core): support subgraph direction, nesting and inter-subgraph edges` | âœ… |

---

## ğŸ‰ å·²å®Œæˆ

æ‰€æœ‰è®¡åˆ’çš„ FR å·²å…¨éƒ¨å®ç°!

### ä¸»è¦åŠŸèƒ½äº®ç‚¹

1. **å®Œæ•´çš„ Mermaid Flowchart è¯­æ³•æ”¯æŒ**
   - 30+ èŠ‚ç‚¹å½¢çŠ¶
   - é«˜çº§è¾¹è¯­æ³•(éšå½¢è¾¹ã€å¤šèŠ‚ç‚¹é“¾æ¥ã€è¾¹é•¿åº¦ã€è¾¹ IDã€åŠ¨ç”»)
   - å­å›¾åµŒå¥—å’Œæ–¹å‘æ§åˆ¶

2. **Draw.io é£æ ¼çš„äº¤äº’ä½“éªŒ**
   - SVG å†…éƒ¨é€‰æ‹©è¦†ç›–å±‚(æ— ç¼©æ”¾é”™ä½)
   - åº•éƒ¨è¿æ¥ç‚¹å¿«é€Ÿæ·»åŠ è¾¹
   - æ”¯æŒåˆ›å»ºæ–°èŠ‚ç‚¹å¹¶è¿æ¥

3. **è¾¹äº¤äº’ä¼˜åŒ–**
   - ç‚¹å‡»è¾¹é€‰ä¸­,æ˜¾ç¤ºæµ®åŠ¨å·¥å…·æ 
   - ç¾è§‚çš„è¾¹ç¼–è¾‘å¯¹è¯æ¡†(æ›¿ä»£åŸç”Ÿ prompt)
   - å¿«é€Ÿæ’å…¥èŠ‚ç‚¹:åœ¨è¾¹ä¸Šä¸€é”®æ’å…¥çŸ©å½¢/åœ†è§’/è±å½¢/åœ†å½¢èŠ‚ç‚¹
   - Delete é”®åˆ é™¤é€‰ä¸­è¾¹

4. **å®Œå–„çš„ç¼–è¾‘åŠŸèƒ½**
   - æ’¤é”€/é‡åš
   - å³é”®ä¸Šä¸‹æ–‡èœå•
   - å¿«æ·é”®æ”¯æŒ
   - åŒå‘ä»£ç åŒæ­¥

---

## ğŸ”— æš‚ä¸å®ç°

ä»¥ä¸‹åŠŸèƒ½æš‚æ—¶ä¸åœ¨è®¡åˆ’å†…:

- å…¶ä»–å›¾ç±»å‹ (Sequence, Class, ER, Gantt, State ç­‰)
- FontAwesome å›¾æ ‡
- ELK å¸ƒå±€å¼•æ“
- Hand-drawn æ‰‹ç»˜é£æ ¼
- Frontmatter é…ç½®
