## 1. 端口显示

- [ ] 1.1 审计 `src/canvas/ports/PortManager.ts` 现有实现
- [ ] 1.2 实现节点悬停时显示 4 个连接点（上下左右）
- [ ] 1.3 连接点样式设计（圆形、带高亮）
- [ ] 1.4 仅在悬停节点和源节点时显示端口

## 2. 拖拽状态机

- [ ] 2.1 审计 `src/canvas/ports/EdgeCreationState.ts` 现有实现
- [ ] 2.2 定义状态：`idle` → `dragging` → `hovering-target` → `created`
- [ ] 2.3 实现从端口开始拖拽
- [ ] 2.4 实现拖拽中鼠标跟随
- [ ] 2.5 实现悬停目标节点高亮
- [ ] 2.6 实现松开鼠标创建边
- [ ] 2.7 实现 Escape 取消拖拽

## 3. 临时连线渲染

- [ ] 3.1 在 `EdgeRenderer.ts` 添加临时边渲染
- [ ] 3.2 临时边样式（虚线、半透明）
- [ ] 3.3 临时边跟随鼠标位置

## 4. 边创建

- [ ] 4.1 松开鼠标时调用 `SyncEngine.addEdge()`
- [ ] 4.2 自动推断边方向（从源端口位置）
- [ ] 4.3 创建后选中新边

## 5. 交互优化

- [ ] 5.1 拖拽到无效区域显示禁止光标
- [ ] 5.2 不允许连接到自身
- [ ] 5.3 不允许创建重复边

## 6. 测试

- [ ] 6.1 单元测试：EdgeCreationState 状态转换
- [ ] 6.2 单元测试：PortManager 端口计算
- [ ] 6.3 E2E 测试：完整拖拽创建边流程

## 7. 文档

- [ ] 7.1 更新 README 说明拖拽连线功能
- [ ] 7.2 添加快捷键说明（Escape 取消）
